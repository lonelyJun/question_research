(function(t){function e(e){for(var i,o,s=e[0],l=e[1],c=e[2],p=0,m=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},n={app:0},r=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var i=a("85ec"),n=a.n(i);n.a},5642:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=(a("d3b7"),a("bc3a")),r=a.n(n),o={},s=r.a.create(o);s.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),s.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t){t.axios=s,window.axios=s,Object.defineProperties(t.prototype,{axios:{get:function(){return s}},$axios:{get:function(){return s}}})},i["default"].use(Plugin);Plugin;var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},c=[],u={name:"app"},p=u,m=(a("034f"),a("2877")),d=Object(m["a"])(p,l,c,!1,null,null,null),f=d.exports,h=a("8c4f"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"questionArea"},[a("li",{staticStyle:{"margin-bottom":"1em"}},[a("div",{staticClass:"question"},[t._v("1·请选择符合照片描述的城市风貌：")]),t._m(0),a("div",{staticClass:"num"},[t._v("No."+t._s(t.pic1))]),a("div",{staticClass:"imgBg"},[a("img",{attrs:{src:t.imageUrl1}})]),a("el-radio-group",{model:{value:t.radio1,callback:function(e){t.radio1=e},expression:"radio1"}},[a("el-radio",{attrs:{label:0}},[t._v("都市")]),a("el-radio",{attrs:{label:1}},[t._v("近郊")]),a("el-radio",{attrs:{label:2}},[t._v("滨水")]),a("el-radio",{attrs:{label:3}},[t._v("乡村")]),a("el-radio",{attrs:{label:4}},[t._v("产业园")])],1)],1),a("li",[a("div",{staticClass:"question"},[t._v("2·请选择您觉得照片中街道的围合度更好的照片：")]),t._m(1),a("div",{staticClass:"num"},[t._v("No."+t._s(t.pic1)+" vs No."+t._s(t.pic2))]),a("div",{staticClass:"imageArea"},[a("div",{class:{imgBg:!0,active:null!==t.compare1&&t.compare1},on:{click:function(e){return t.changeCompare1(!0)}}},[a("img",{attrs:{src:t.imageUrl1}})]),a("div",{class:{imgBg:!0,active:null!==t.compare1&&!t.compare1},on:{click:function(e){return t.changeCompare1(!1)}}},[a("img",{attrs:{src:t.imageUrl2}})])])]),a("li",[a("div",{staticClass:"question"},[t._v("3·请选择您觉得照片中街道的人尺度更好的照片：")]),t._m(2),a("div",{staticClass:"num"},[t._v("No."+t._s(t.pic1)+" vs No."+t._s(t.pic3))]),a("div",{staticClass:"imageArea"},[a("div",{class:{imgBg:!0,active:null!==t.compare2&&t.compare2},on:{click:function(e){return t.changeCompare2(!0)}}},[a("img",{attrs:{src:t.imageUrl1}})]),a("div",{class:{imgBg:!0,active:null!==t.compare2&&!t.compare2},on:{click:function(e){return t.changeCompare2(!1)}}},[a("img",{attrs:{src:t.imageUrl3}})])])]),a("li",[a("div",{staticClass:"question"},[t._v("4·请选择您觉得照片中街道的丰富性更好的照片：")]),t._m(3),a("div",{staticClass:"num"},[t._v("No."+t._s(t.pic1)+" vs No."+t._s(t.pic4))]),a("div",{staticClass:"imageArea"},[a("div",{class:{imgBg:!0,active:null!==t.compare3&&t.compare3},on:{click:function(e){return t.changeCompare3(!0)}}},[a("img",{attrs:{src:t.imageUrl1}})]),a("div",{class:{imgBg:!0,active:null!==t.compare3&&!t.compare3},on:{click:function(e){return t.changeCompare3(!1)}}},[a("img",{attrs:{src:t.imageUrl4}})])])]),a("li",[a("div",{staticClass:"question"},[t._v("5·请选择您觉得照片描述的城市风貌更好的照片")]),a("div",{staticClass:"num"},[t._v("No."+t._s(t.pic1)+" vs No."+t._s(t.pic5))]),a("div",{staticClass:"imageArea"},[a("div",{class:{imgBg:!0,active:null!==t.compare4&&t.compare4},on:{click:function(e){return t.changeCompare4(!0)}}},[a("img",{attrs:{src:t.imageUrl1}})]),a("div",{class:{imgBg:!0,active:null!==t.compare4&&!t.compare4},on:{click:function(e){return t.changeCompare4(!1)}}},[a("img",{attrs:{src:t.imageUrl5}})])])])]),a("el-button",{staticClass:"submitBtn",attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")])],1)},v=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"explain"},[a("p",[t._v("意向性：区别于其他街道的整体环境和物理属性，决定了街道的可识别性和行人在此的感受和记忆。")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"explain"},[a("p",[t._v("围合度：街道和其他公共空间在物理空间上被建筑、围墙、树木以及其他垂直物理要素限定的程度。围合度决定了行人的心理安全感和公共空间的亲切性。")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"explain"},[a("p",[t._v("人尺度：公共空间的尺寸、材质以及各物理要素提供给行人的心理和生理上的舒适感受。人尺度决定了行人在空间中的舒适度。")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"explain"},[a("p",[t._v("丰富性：街道的功能、活动和视觉丰富程度，由物理环境要素，例如不同种类的建筑数、装饰物数量、景观植物数量和街道家具数量等决定。多样程度决定了公共空间的丰富性。")])])}],b=function(){return i["default"].axios.get("/api/picture")},_=function(t){return i["default"].axios.post("/api/picture/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},C=function(t){return i["default"].axios.get("/api/picture/writeResult?pic1="+t.pic1+"&radio1="+t.radio1+"&question2="+t.question2+"&question3="+t.question3+"&question4="+t.question4+"&question5="+t.question5)},y={data:function(){return{radio1:-1,compare1:null,compare2:null,compare3:null,compare4:null,pic1:parseInt(500*Math.random()),pic2:parseInt(500*Math.random()),pic3:parseInt(500*Math.random()),pic4:parseInt(500*Math.random()),pic5:parseInt(500*Math.random()),result:{}}},computed:{imageUrl1:function(){return"/image/"+this.pic1+".jpeg"},imageUrl2:function(){return"/image/"+this.pic2+".jpeg"},imageUrl3:function(){return"/image/"+this.pic3+".jpeg"},imageUrl4:function(){return"/image/"+this.pic4+".jpeg"},imageUrl5:function(){return"/image/"+this.pic5+".jpeg"}},watch:{pic2:function(t){t==this.pic1&&(t=parseInt(500*Math.random()))},pic3:function(t){t==this.pic1&&(t=parseInt(500*Math.random()))},pic4:function(t){t==this.pic1&&(t=parseInt(500*Math.random()))},pic5:function(t){t==this.pic1&&(t=parseInt(500*Math.random()))}},mounted:function(){},methods:{changeOne:function(){this.imageUrl="./static/images/"+parseInt(500*Math.random())+".jpeg"},changeCompare1:function(t){this.compare1=t},changeCompare2:function(t){this.compare2=t},changeCompare3:function(t){this.compare3=t},changeCompare4:function(t){this.compare4=t},submit:function(){var t=this;if(-1==this.radio1||null==this.compare1||null==this.compare2||null==this.compare3||null==this.compare4)this.$alert("请您耐心做完选择","提示",{confirmButtonText:"确定",callback:function(){t.$message({type:"warning",message:"还没做完所有选择哦"})}});else{var e={pic1:this.pic1,radio1:this.radio1,question2:this.compare1?this.pic1:this.pic2,question3:this.compare1?this.pic1:this.pic3,question4:this.compare1?this.pic1:this.pic4,question5:this.compare1?this.pic1:this.pic5};C(e).then((function(e){console.log(e),0==e.data.code?(t.$message({type:"success",message:"提交成功"}),t.init()):t.$message({type:"error",message:"未知错误"})}))}},init:function(){this.radio1=-1,this.compare1=null,this.compare2=null,this.compare3=null,this.compare4=null,this.pic1=parseInt(500*Math.random()),this.pic2=parseInt(500*Math.random()),this.pic3=parseInt(500*Math.random()),this.pic4=parseInt(500*Math.random()),this.pic5=parseInt(500*Math.random())}}},w=y,U=(a("8173"),Object(m["a"])(w,g,v,!1,null,"3181dc0d",null)),x=U.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uploadPage"},[a("el-upload",{ref:"uploadDom",staticClass:"upload-demo",attrs:{"before-upload":t.beofreUpload,action:t.uploadUrl,multiple:"",drag:"","show-file-list":!1,accept:".jpg, .jpeg, .png","http-request":t.handleUpload}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v(" 将文件拖到此处，或 "),a("em",[t._v("点击上传")])])]),t.overlayFlag?a("div",{staticClass:"overlay"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progressValueText"},[t._v(t._s(t.progressValue))]),a("div",{ref:"progressValueDom",staticClass:"progressValue"})])]):t._e(),a("el-table",{attrs:{data:t.tableData,border:"",height:"800"}},[a("el-table-column",{attrs:{prop:"index",label:"图片编号",width:"80"}}),a("el-table-column",{attrs:{label:"图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.picUrl}})]}}])}),a("el-table-column",{attrs:{label:"问题1"}},[a("el-table-column",{attrs:{prop:"city",label:"都市",width:"50"}}),a("el-table-column",{attrs:{prop:"outskirts",label:"近郊",width:"50"}}),a("el-table-column",{attrs:{prop:"water",label:"滨水",width:"50"}}),a("el-table-column",{attrs:{prop:"country",label:"乡村",width:"50"}}),a("el-table-column",{attrs:{prop:"product",label:"产业园",width:"75"}})],1),a("el-table-column",{attrs:{prop:"question2",label:"问题2",width:"80"}}),a("el-table-column",{attrs:{prop:"question3",label:"问题3",width:"80"}}),a("el-table-column",{attrs:{prop:"question4",label:"问题4",width:"80"}}),a("el-table-column",{attrs:{prop:"question5",label:"问题5",width:"80"}})],1)],1)},j=[],M={data:function(){return{uploadUrl:"/api/picture/upload",beginUploadCount:0,fileList:[],overlayFlag:!1,fileLength:0,progressValue:"0%",tableData:[]}},components:{},computed:{},mounted:function(){var t=this;b().then((function(e){0==e.data.code&&(t.tableData=e.data.data)}))},methods:{beofreUpload:function(){this.overlayFlag=!0},handleUpload:function(t){var e=this;this.beginUploadCount++,this.beginUploadCount>this.fileLength&&(this.fileLength=this.beginUploadCount);var a=new FormData;a.append("file",t.file),_(a).then((function(){e.beginUploadCount--,e.setProgress(0!=e.beginUploadCount||0!=e.fileLength?(e.fileLength-e.beginUploadCount)/e.fileLength:0),0==e.beginUploadCount&&(b().then((function(t){0==t.data.code&&(e.tableData=t.data.data)})),setTimeout((function(){e.overlayFlag=!1,e.fileLength=0,e.progressValue="0%"}),1e3))}))},setProgress:function(t){this.progressValue=Math.floor(100*t)+"%",this.$refs.progressValueDom.style.width=Math.floor(100*t)+"%"}}},k=M,O=(a("df1e"),Object(m["a"])(k,q,j,!1,null,"7c1ee479",null)),P=O.exports;i["default"].use(h["a"]);var I=[{path:"/",name:"Home",component:x},{path:"/upload",name:"Upload",component:P}],$=new h["a"]({routes:I}),B=$,N=a("5c96"),D=a.n(N);a("0fae");i["default"].use(D.a),i["default"].config.productionTip=!1,new i["default"]({router:B,render:function(t){return t(f)}}).$mount("#app")},8173:function(t,e,a){"use strict";var i=a("bfe0"),n=a.n(i);n.a},"85ec":function(t,e,a){},bfe0:function(t,e,a){},df1e:function(t,e,a){"use strict";var i=a("5642"),n=a.n(i);n.a}});
//# sourceMappingURL=app.18cd9960.js.map